<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>用AppleALC修复音频 | OpenCore安装后</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="&#39;stylesheet" href="/OpenCore-Post-Install/styles/website.css">
    <link rel="shortcut icon" type="image/x-icon" href="/OpenCore-Post-Install/favicon.ico">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/OpenCore-Post-Install/assets/css/0.styles.e4b4df23.css" as="style"><link rel="preload" href="/OpenCore-Post-Install/assets/js/app.d287e21f.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/2.cb31d67b.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/1.d0f96348.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/21.88d18c6b.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/7.a14219dc.js" as="script"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/11.c96453ae.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/12.6c0e7d54.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/13.7a29a5f7.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/14.b1d02d09.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/15.a2ae31d0.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/16.34b61461.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/17.6e61de59.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/18.4cba4a1b.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/19.9f24a950.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/20.045457f1.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/22.11df8cf0.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/23.1d09d57d.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/24.215d2550.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/25.a2ac6076.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/26.1e78e39b.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/27.981b8c36.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/28.217c593a.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/29.3672888f.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/3.9ec45c3a.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/30.63fd5f72.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/31.fd9eef44.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/32.a20aa7d4.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/33.e878339a.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/34.16252ccf.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/35.48dd4bbc.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/36.dafc6d66.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/37.d13b97b9.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/38.7cdedd64.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/39.66023053.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/4.a8586f44.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/40.b836a7e2.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/41.e9fdaaea.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/42.eba3d91b.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/43.b1de588a.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/44.49647c70.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/45.ebafdd12.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/46.be54e623.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/47.0e554db2.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/48.0be5a2a1.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/49.1910ab52.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/5.8becdea1.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/50.199fd0c8.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/51.0034e389.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/52.43ecb741.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/53.9ebe1c65.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/54.0db85dbd.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/55.210006d1.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/56.af254ea0.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/57.c0c5faab.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/58.f8866d66.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/59.a5380efd.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/6.7aecb05c.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/60.de381e06.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/61.f890d92e.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/62.4633119e.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/63.388db2e0.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/64.912f86e0.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/65.f863778b.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/8.f3254528.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/vendors~docsearch.2d439eba.js">
    <link rel="stylesheet" href="/OpenCore-Post-Install/assets/css/0.styles.e4b4df23.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/OpenCore-Post-Install/" class="home-link router-link-active"><img src="/OpenCore-Post-Install/homepage.png" alt="OpenCore安装后" class="logo"> <span class="site-name can-hide">OpenCore安装后</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dortania指南翻译" class="dropdown-title"><span class="title">Dortania指南翻译</span> <span class="arrow down"></span></button> <button type="button" aria-label="Dortania指南翻译" class="mobile-dropdown-title"><span class="title">Dortania指南翻译</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/OpenCore-Install-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore安装指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/OpenCore-Multiboot/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore多重引导
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ACPI入门
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图形卡购买指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  无线网卡购买指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  购买踩坑指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/xuanxuan1231/OpenCore-Post-Install" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dortania指南翻译" class="dropdown-title"><span class="title">Dortania指南翻译</span> <span class="arrow down"></span></button> <button type="button" aria-label="Dortania指南翻译" class="mobile-dropdown-title"><span class="title">Dortania指南翻译</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/OpenCore-Install-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore安装指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/OpenCore-Multiboot/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore多重引导
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ACPI入门
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图形卡购买指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  无线网卡购买指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xuanxuan1231.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  购买踩坑指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/xuanxuan1231/OpenCore-Post-Install" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/" aria-current="page" class="sidebar-link">OpenCore安装后</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>通用</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/universal/audio.html" aria-current="page" class="active sidebar-link">修复声音</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#查找你的layout-id" class="sidebar-link">查找你的layout ID</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#测试你的layout" class="sidebar-link">测试你的layout</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#使layout-id更永久" class="sidebar-link">使layout ID更永久</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#其他问题" class="sidebar-link">其他问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#amd上没有麦克风" class="sidebar-link">AMD上没有麦克风</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#clover中相同的layout-id不在opencore上工作" class="sidebar-link">Clover中相同的layout ID不在OpenCore上工作</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#在10-15中-电源状态改变导致kernel-panic" class="sidebar-link">在10.15中，电源状态改变导致Kernel Panic</a></li></ul></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#排错" class="sidebar-link">排错</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#检查你是否有正确的内核扩展" class="sidebar-link">检查你是否有正确的内核扩展</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#检查applealc补丁是否正确" class="sidebar-link">检查AppleALC补丁是否正确</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#检查applehda是否正常" class="sidebar-link">检查AppleHDA是否正常</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#applealc工作不一致" class="sidebar-link">AppleALC工作不一致</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#applealc在多个声卡下不能正常工作" class="sidebar-link">AppleALC在多个声卡下不能正常工作</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/universal/audio.html#windows重启后-applealc无法工作" class="sidebar-link">Windows重启后，AppleALC无法工作</a></li></ul></li></ul></li><li><a href="/OpenCore-Post-Install/universal/oc2hdd.html" class="sidebar-link">不用USB引导</a></li><li><a href="/OpenCore-Post-Install/universal/update.html" class="sidebar-link">升级OpenCore，内核扩展和macOS</a></li><li><a href="/OpenCore-Post-Install/universal/drm.html" class="sidebar-link">修复 DRM</a></li><li><a href="/OpenCore-Post-Install/universal/iservices.html" class="sidebar-link">修复i服务</a></li><li><a href="/OpenCore-Post-Install/universal/pm.html" class="sidebar-link">修复电源管理</a></li><li><a href="/OpenCore-Post-Install/universal/sleep.html" class="sidebar-link">修复睡眠</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>修复USB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/usb/" class="sidebar-link">USB映射：介绍</a></li><li><a href="/OpenCore-Post-Install/usb/system-preparation.html" class="sidebar-link">准备系统</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>USB映射</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>其他修复</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>安全性</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/universal/security.html" class="sidebar-link">安全性和FileVault</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/universal/security/filevault.html" class="sidebar-link">FileVault</a></li><li><a href="/OpenCore-Post-Install/universal/security/vault.html" class="sidebar-link">Vault</a></li><li><a href="/OpenCore-Post-Install/universal/security/scanpolicy.html" class="sidebar-link">ScanPolicy（扫描策略）</a></li><li><a href="/OpenCore-Post-Install/universal/security/password.html" class="sidebar-link">OpenCore菜单密码</a></li><li><a href="/OpenCore-Post-Install/universal/security/applesecureboot.html" class="sidebar-link">Apple安全启动</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>笔记本的特殊性</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/laptop-specific/battery.html" class="sidebar-link">修复电池读数</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>美化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/cosmetic/verbose.html" class="sidebar-link">修复分辨率和啰嗦模式</a></li><li><a href="/OpenCore-Post-Install/cosmetic/gui.html" class="sidebar-link">添加GUI和引导铃声</a></li><li><a href="/OpenCore-Post-Install/universal/memory.html" class="sidebar-link">修复在MacPro7,1上发生的内存问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>多重引导</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="https://xuanxuan1231.github.io/OpenCore-Multiboot/" target="_blank" rel="noopener noreferrer" class="sidebar-link">OpenCore多重引导（未翻译）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/OpenCore-Post-Install/multiboot/bootstrap.html" class="sidebar-link">设置启动器选项</a></li><li><a href="/OpenCore-Post-Install/multiboot/bootcamp.html" class="sidebar-link">安装BootCamp</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/misc/rtc.html" class="sidebar-link">修复RTC</a></li><li><a href="/OpenCore-Post-Install/misc/msr-lock.html" class="sidebar-link">修复CFG锁</a></li><li><a href="/OpenCore-Post-Install/misc/nvram.html" class="sidebar-link">模拟NVRAM</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>图形卡补丁</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/gpu-patching/" class="sidebar-link">深度的图形卡补丁</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>现代Intel核芯显卡</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/" class="sidebar-link">核芯显卡补丁介绍</a></li><li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/vram.html" class="sidebar-link">显存补丁</a></li><li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/connector.html" class="sidebar-link">连接器类型补丁</a></li><li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/busid.html" class="sidebar-link">BusID补丁</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>旧版Intel核芯显卡</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/gpu-patching/legacy-intel/" class="sidebar-link">GMA补丁</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>旧版Nvidia</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/gpu-patching/nvidia-patching/" class="sidebar-link">Nvidia补丁</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="用applealc修复音频"><a href="#用applealc修复音频" class="header-anchor">#</a> 用AppleALC修复音频</h1> <p>因此，首先，我们假设您已经安装了Lilu和AppleALC，如果您不确定它是否已正确加载，则可以在终端中运行以下命令（这也将检查AppleHDA是否已加载，因为没有这个AppleALC就没有什么可修补的）：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>kextstat <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-E</span> <span class="token string">&quot;AppleHDA|AppleALC|Lilu&quot;</span>
</code></pre></div><p>如果3个都出现，您就可以开始了。并确保<strong>不存在</strong>VoodooHDA。否则这将与AppleALC冲突。</p> <p>如果您遇到问题，请参阅<a href="/OpenCore-Post-Install/universal/audio.html#排错">问题排查部分</a></p> <h2 id="查找你的layout-id"><a href="#查找你的layout-id" class="header-anchor">#</a> 查找你的layout ID</h2> <p>因此，对于此示例，我们假设您的编解码器为ALC1220。要验证您的，您有以下几种选择：</p> <ul><li>检查主板的规格页和手册</li> <li>检查Windows中的“设备管理器”</li> <li>检查Windows下的HWInfo64
<ul><li>确保在打开时取消选择Summary-only和Sensors-only</li></ul></li> <li>在Windows中检查AIDA64 Extreme</li> <li>在Linux的终端上运行<code>cat</code> <ul><li><code>cat /proc/asound/card0/codec#0 | less</code></li></ul></li></ul> <p>现在有了编解码器，我们想交叉引用它与AppleALC支持的编解码器列表:</p> <ul><li><a href="https://github.com/acidanthera/AppleALC/wiki/Supported-codecs" target="_blank" rel="noopener noreferrer">AppleALC支持的编解码器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>使用ALC1220，我们得到以下结果:</p> <div class="language- extra-class"><pre class="language-text"><code>0x100003, layout 1, 2, 3, 5, 7, 11, 13, 15, 16, 21, 27, 28, 29, 34
</code></pre></div><p>因此，它告诉我们两件事:</p> <ul><li>支持哪个硬件版本(<code>0x100003</code>)，仅在列出具有不同布局的多个版本时相关</li> <li>我们的编解码器支持的layout ID(<code>layout 1, 2, 3, 5, 7, 11, 13, 15, 16, 21, 27, 28, 29, 34</code>)</li></ul> <p>现在有了支持的layout ID列表，我们准备进行一些尝试</p> <p><strong>Note</strong>: 如果你的音频编解码器是ALC 3XXX，这很可能是假的，只是一个重新命名的控制器，做你的研究，看看真正的控制器是什么。</p> <ul><li>这方面的一个例子是ALC3601，但是当我们加载Linux时，显示的是真实名称：ALC 671</li></ul> <h2 id="测试你的layout"><a href="#测试你的layout" class="header-anchor">#</a> 测试你的layout</h2> <p>为了测试我们的layout ID，我们将使用boot-arg<code>alcid=xxx</code>，其中xxx是您的layout。记住，<strong>一次</strong>尝试<strong>一个</strong>布局id 。不要添加多个ID或alcid启动参数，如果一个不工作，然后尝试下一个ID等</p> <div class="language- extra-class"><pre class="language-text"><code>config.plist
├── NVRAM
  ├── Add
    ├── 7C436110-AB2A-4BBB-A880-FE41995C9F82
          ├── boot-args | String | alcid=11
</code></pre></div><p>如果没有布局ID工作，尝试为您的系统创建<a href="https://xuanxuan1231.github.io/Getting-Started-With-ACPI/Universal/irq.html" target="_blank" rel="noopener noreferrer">SSDT-HPET修复<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>-AppleHDA为笔记本和一些台式机工作时需要。</p> <h2 id="使layout-id更永久"><a href="#使layout-id更永久" class="header-anchor">#</a> 使layout ID更永久</h2> <p>一旦你找到了一个与你的黑苹果工作的布局ID，我们可以创建一个更永久的解决方案，更接近真实的mac设置他们的布局ID。</p> <p>在AppleALC中，有一个优先级结构，属性的优先级是这样的:</p> <ol><li><code>alcid=xxx</code> boot-arg，用于调试并覆盖所有其他值</li> <li><code>alc-layout-id</code> 在DeviceProperties,，<strong>应该只在苹果硬件上使用</strong></li> <li><code>layout-id</code> 在DeviceProperties，<strong>应该在苹果和非苹果硬件上使用</strong></li></ol> <p>首先，我们需要找出音频控制器在PCI地图上的位置。为此，我们将使用一个名为<a href="https://github.com/acidanthera/gfxutil/releases" target="_blank" rel="noopener noreferrer">gfxutil<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的方便工具，然后在macOS终端上使用:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>path/to/gfxutil <span class="token parameter variable">-f</span> HDEF
</code></pre></div><p><img src="/OpenCore-Post-Install/assets/img/gfxutil-hdef.c0e71f9a.png" alt=""></p> <p>然后将这个PciRoot和子配置<code>layout-id</code>添加到你的config.plist中DeviceProperties -&gt; Add部分:</p> <p><img src="/OpenCore-Post-Install/assets/img/config-layout-id.54d8ccac.png" alt=""></p> <p>请注意，AppleALC可以接受十进制/数字和十六进制/数据，通常最好的方法是十六进制，因为你避免了任何不必要的转换。你可以使用一个简单的<a href="https://www.rapidtables.com/convert/number/decimal-to-hex.html" target="_blank" rel="noopener noreferrer">十进制到十六进制计算器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来找到你的答案。<code>printf '%x\n' DECI_VAL</code>:</p> <p><img src="/OpenCore-Post-Install/assets/img/hex-convert.4e2df6d6.png" alt=""></p> <p>所以在这个例子中，<code>alcid=11</code>可以变成:</p> <ul><li><code>layout-id | Data | &lt;0B000000&gt;</code></li> <li><code>layout-id | Number | &lt;11&gt;</code></li></ul> <p>请注意，最终的HEX/Data值总共应该是4个字节（ <code>0B 00 00 00</code>，对于layout ID超过255（<code>FF 00 00 00</code>）将需要记住字节被交换。所以256就变成了<code>00 01 00 00</code></p> <ul><li>使用十进制/数字方法可以完全忽略十六进制交换和数据大小</li></ul> <p><strong>提醒</strong>:你之后<strong>必须</strong>删除boot-arg，因为它将始终具有最高优先级，不删除的话AppleALC将忽略所有如DeviceProperties的其他条目</p> <h2 id="其他问题"><a href="#其他问题" class="header-anchor">#</a> 其他问题</h2> <h3 id="amd上没有麦克风"><a href="#amd上没有麦克风" class="header-anchor">#</a> AMD上没有麦克风</h3> <ul><li>这是与AMD一起运行AppleALC时的常见问题，特别是没有补丁来支持麦克风输入。目前“最好”的解决方案是买一个USB DAC/麦克风。实际上VoodooHDA.kext方法也可以，但VoodooHDA的问题在于它不稳定，音质也比AppleALC差</li></ul> <h3 id="clover中相同的layout-id不在opencore上工作"><a href="#clover中相同的layout-id不在opencore上工作" class="header-anchor">#</a> Clover中相同的layout ID不在OpenCore上工作</h3> <p>这可能会导致IRQ冲突，在Clover上有一个自动应用的ACPI热补丁。修复这个有点痛苦，但<a href="https://github.com/corpnewt/SSDTTime" target="_blank" rel="noopener noreferrer">SSDTTime<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的<code>FixHPET</code>选项可以处理大多数情况。</p> <p>对于RTC和HPET从USB和音频等其他设备获取irq的奇怪情况，您可以参考trashOS repo中的<a href="https://github.com/khronokernel/trashOS/blob/master/HP-Compaq-DC7900/README.md#dsdt-edits" target="_blank" rel="noopener noreferrer">HP Compaq DC7900 ACPI补丁<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>示例</p> <h3 id="在10-15中-电源状态改变导致kernel-panic"><a href="#在10-15中-电源状态改变导致kernel-panic" class="header-anchor">#</a> 在10.15中，电源状态改变导致Kernel Panic</h3> <ul><li>在你的config.plist中启用PowerTimeoutKernelPanic：
<ul><li><code>Kernel -&gt; Quirks -&gt; PowerTimeoutKernelPanic -&gt; True</code></li></ul></li></ul> <h2 id="排错"><a href="#排错" class="header-anchor">#</a> 排错</h2> <p>为了排除故障，我们需要复习几件事:</p> <ul><li><a href="#%E6%A3%80%E6%9F%A5%E4%BD%A0%E6%98%AF%E5%90%A6%E6%9C%89%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%86%85%E6%A0%B8%E6%89%A9%E5%B1%95">检查你是否有正确的内核扩展</a></li> <li><a href="#%E6%A3%80%E6%9F%A5applealc%E8%A1%A5%E4%B8%81%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE">检查AppleALC补丁是否正确</a></li> <li><a href="#%E6%A3%80%E6%9F%A5applehda%E6%98%AF%E5%90%A6%E6%AD%A3%E5%B8%B8">检查AppleHDA是否正常</a></li> <li><a href="#applealc%E5%B7%A5%E4%BD%9C%E4%B8%8D%E4%B8%80%E8%87%B4">AppleALC工作不一致</a></li> <li><a href="#applealc%E5%9C%A8%E5%A4%9A%E4%B8%AA%E5%A3%B0%E5%8D%A1%E4%B8%8B%E4%B8%8D%E8%83%BD%E6%AD%A3%E5%B8%B8%E5%B7%A5%E4%BD%9C">AppleALC在多个声卡下不能正常工作</a></li> <li><a href="#windows%E9%87%8D%E5%90%AF%E5%90%8E%EF%BC%8Capplealc%E6%97%A0%E6%B3%95%E5%B7%A5%E4%BD%9C">Windows重启后，AppleALC无法工作</a></li> <li>注意：从此处跳转可能需要双击</li></ul> <h3 id="检查你是否有正确的内核扩展"><a href="#检查你是否有正确的内核扩展" class="header-anchor">#</a> 检查你是否有正确的内核扩展</h3> <p>首先，我们假设你已经安装了Lilu和AppleALC，如果你不确定它是否被正确加载，你可以在终端运行以下命令(这也会检查AppleHDA是否被加载，因为没有这个AppleALC没有什么可以修补的):</p> <div class="language-sh extra-class"><pre class="language-sh"><code>kextstat <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-E</span> <span class="token string">&quot;AppleHDA|AppleALC|Lilu&quot;</span>
</code></pre></div><p>如果这三个都出现了，你就可以开始了。确保VoodooHDA <strong>不存在</strong>。否则，这将与AppleALC冲突。需要确保系统中没有以下内核扩展:</p> <ul><li>RealtekALC.kext</li> <li>CloverALC.kext</li> <li>VoodooHDA.kext</li> <li>HDA Blocker.kext</li> <li>HDAEnabler#.kext(# 可以是1, 2, 或3)</li></ul> <blockquote><p>Lilu和/或AppleALC没有出现</p></blockquote> <p>一般来说，最好的开始是查看你的OpenCore日志，看看Lilu和AppleALC是否正确注入:</p> <div class="language- extra-class"><pre class="language-text"><code>14:354 00:020 OC: Prelink injection Lilu.kext () - Success
14:367 00:012 OC: Prelink injection AppleALC.kext () - Success
</code></pre></div><p>如果显示注入失败:</p> <div class="language- extra-class"><pre class="language-text"><code>15:448 00:007 OC: Prelink injection AppleALC.kext () - Invalid Parameter
</code></pre></div><p>你可以查看原因的主要地方:</p> <ul><li><strong>注入顺序</strong>：确保Lilu在内核扩展中位于AppleALC之上</li> <li><strong>所有内核扩展都是最新的</strong>：对于Lilu插件尤其重要，因为不匹配的文本可能会导致问题</li></ul> <p>Note: 要设置文件日志记录，请参见<a href="https://xuanxuan1231.github.io/OpenCore-Install-Guide/troubleshooting/debug.html" target="_blank" rel="noopener noreferrer">OpenCore调试<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="检查applealc补丁是否正确"><a href="#检查applealc补丁是否正确" class="header-anchor">#</a> 检查AppleALC补丁是否正确</h3> <p>所以在AppleALC中，检查补丁是否正确的最简单方法之一就是查看你的音频控制器是否被正确地命名。抓取<a href="https://github.com/khronokernel/IORegistryClone/blob/master/ioreg-302.zip" target="_blank" rel="noopener noreferrer">IORegistryExplorer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，看看你是否有一个HDEF设备:</p> <p><img src="/OpenCore-Post-Install/assets/img/hdef.0b4a3bf3.png" alt=""></p> <p>从上图中可以看到，我们有以下内容:</p> <ul><li>HDEF设备意味着我们的重命名完成了这项工作</li> <li>AppleHDAController attached表示苹果的音频内核扩展连接成功</li> <li><code>alc-layout-id</code> 是一个属性显示我们的boot-arg/DeviceProperty注入成功
<ul><li>注意：<code>layout-id | Data | 07000000</code> 是默认layout， <code>alc-layout-id</code> 将覆盖它，并成为AppleHDA将使用的布局</li></ul></li></ul> <p>注意:<strong>不要手动重命名您的音频控制器</strong>，这可能会导致问题，因为AppleALC正在尝试修补程序。让苹果去做它的工作。</p> <p><strong>更多示例</strong>:</p> <table><thead><tr><th style="text-align:center;">正确的layout-id</th> <th style="text-align:center;">不正确的layout-id</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/OpenCore-Post-Install/assets/img/right-layout.b17911f6.png" alt=""></td> <td style="text-align:center;"><img src="/OpenCore-Post-Install/assets/img/wrong-layout.b0fe7803.png" alt=""></td></tr></tbody></table> <p>正如你从上面的2中看到的那样，右边的图像缺少了很多AppleHDAInput设备，这意味着AppleALC无法将你的物理端口匹配到它可以理解和输出的东西。这意味着您需要做一些工作来为系统找到正确的布局ID。</p> <h3 id="检查applehda是否正常"><a href="#检查applehda是否正常" class="header-anchor">#</a> 检查AppleHDA是否正常</h3> <p>这一节主要是有关那些谁是替换库存的AppleHDA与自定义的，这将验证是否你是真正的:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> kextcache <span class="token parameter variable">-i</span> / <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> kextcache <span class="token parameter variable">-u</span> /
</code></pre></div><p>这将检查签名是否对AppleHDA有效，如果不是，那么你将需要为你的系统获取AppleHDA的原始副本并替换它或更新macOS（更新时将清除内核扩展）。这只会发生在你手动修补AppleHDA时，所以如果这是一个新安装，你不太可能有签名问题。</p> <h3 id="applealc工作不一致"><a href="#applealc工作不一致" class="header-anchor">#</a> AppleALC工作不一致</h3> <p>有时会出现罕见的情况，即您的硬件没有及时初始化AppleHDAController，导致没有声音输出。要解决这个问题，你可以:</p> <p>在引导参数中指定延迟:</p> <div class="language- extra-class"><pre class="language-text"><code>alcdelay=1000
</code></pre></div><p>或者通过DeviceProperties指定(在HDEF设备中):</p> <div class="language- extra-class"><pre class="language-text"><code>alc-delay | Number | 1000
</code></pre></div><p>上面的boot-arg/DeviceProperty会使AppleHDAController延迟1000毫秒(1秒)，注意ALC延迟不能超过3000毫秒。(https://github.com/acidanthera/AppleALC/blob/2ed6af4505a81c8c8f5a6b18c249eb478266739c/AppleALC/kern_alc.cpp#L373)</p> <h3 id="applealc在多个声卡下不能正常工作"><a href="#applealc在多个声卡下不能正常工作" class="header-anchor">#</a> AppleALC在多个声卡下不能正常工作</h3> <p>对于罕见的情况下，你有2个声卡(例如。板载Realtek和外部PCIe卡)，您可能希望避免AppleALC修补您不使用或不需要修补的设备(如本机PCIe卡)。如果你发现当外部音频控制器存在时，AppleALC不会修补你的板载音频控制器，这一点尤其重要。</p> <p>为了解决这个问题，我们首先需要确定两个音频控制器的位置。最简单的方法是运行<a href="https://github.com/acidanthera/gfxutil/releases" target="_blank" rel="noopener noreferrer">gfxutil<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>并搜索PCI ID:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>/path/to/gfxutil
</code></pre></div><p>现在有了这么大的输出，你会想找到你的PciRoot路径，对于这个例子，让我们使用一个Creative Sound-Blaster AE-9PE PCIe声卡。为此，我们知道PCI ID是<code>1102:0010</code>。所以通过gfxutil输出，我们得到了这个:</p> <div class="language- extra-class"><pre class="language-text"><code>66:00.0 1102:0010 /PC02@0/BR2A@0/SL05@0 = PciRoot(0x32)/Pci(0x0,0x0)/Pci(0x0,0x0)
</code></pre></div><p>从这里，我们可以清楚地看到我们的PciRoot路径是:</p> <div class="language- extra-class"><pre class="language-text"><code>PciRoot(0x32)/Pci(0x0,0x0)/Pci(0x0,0x0)
</code></pre></div><ul><li><strong>注意</strong>:这将假设您知道外部声卡的供应商和设备ID。以下是常见的供应商编号，供参考:
<ul><li>Creative Labs: <code>1102</code></li> <li>华硕: <code>1043</code></li></ul></li> <li><strong>注意2</strong>: 您的ACPI和PciRoot路径看起来会有所不同，因此请注意<strong>您的</strong> gfxutil输出</li></ul> <p>现在我们有了PciRoot路径，我们终于可以打开我们的config.plist添加我们的补丁。</p> <p>在DeviceProperties -&gt; Add下，你会想要添加你的PciRoot(作为一个字典)和子调用 <code>external-audio</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>DeviceProperties
| --- &gt; Add
 | --- &gt; PciRoot(0x32)/Pci(0x0,0x0)/Pci(0x0,0x0)
  | ----&gt; external-audio | Data | 01
</code></pre></div><p><img src="/OpenCore-Post-Install/assets/img/external-audio.b1bb87f0.png" alt=""></p> <p>完成后，你可以重新启动，AppleALC现在应该忽略你的外部音频控制器!</p> <h3 id="windows重启后-applealc无法工作"><a href="#windows重启后-applealc无法工作" class="header-anchor">#</a> Windows重启后，AppleALC无法工作</h3> <p>如果你发现从Windows重新启动到macOS会中断音频，我们建议在boot-args中添加' alctcsel=1 '，或者在DeviceProperties中为音频设备添加此属性:</p> <div class="language- extra-class"><pre class="language-text"><code>DeviceProperties
| --- &gt; Add
 | --- &gt; PciRoot(0x32)/Pci(0x0,0x0)/Pci(0x0,0x0)(Adjust to your device)
  | ----&gt; alctcsel | Data | 01000000
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/xuanxuan1231/OpenCore-Post-Install/edit/master/universal/audio.md" target="_blank" rel="noopener noreferrer">帮助我们改进此页！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/2/2023, 10:47:37 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="/OpenCore-Post-Install/" class="prev router-link-active">
        OpenCore安装后
      </a></span> <span class="next"><a href="/OpenCore-Post-Install/universal/oc2hdd.html">
        不用USB引导
      </a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/OpenCore-Post-Install/assets/js/app.d287e21f.js" defer></script><script src="/OpenCore-Post-Install/assets/js/2.cb31d67b.js" defer></script><script src="/OpenCore-Post-Install/assets/js/1.d0f96348.js" defer></script><script src="/OpenCore-Post-Install/assets/js/21.88d18c6b.js" defer></script><script src="/OpenCore-Post-Install/assets/js/7.a14219dc.js" defer></script>
  </body>
</html>
